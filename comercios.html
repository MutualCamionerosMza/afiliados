<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Comercios Adheridos</title>
<style>
  body {
    margin: 0;
    font-family: Arial, sans-serif;
    background: #f0f2f5;
    display: flex;
    flex-direction: column;
    align-items: center;
  }

  h1 {
    margin: 20px 0;
    text-align: center;
  }

  .carousel-container {
    perspective: 1200px;
    width: 90%;
    max-width: 900px;
    height: 300px;
    margin-top: 40px;
    position: relative;
  }

  .carousel {
    width: 100%;
    height: 100%;
    position: absolute;
    transform-style: preserve-3d;
    transition: transform 1s;
  }

  .carousel img {
    position: absolute;
    width: 120px;
    height: 120px;
    object-fit: cover;
    left: 50%;
    top: 50%;
    transform-origin: center center;
    border-radius: 10px;
    cursor: pointer;
    transition: transform 0.5s, filter 0.5s;
    filter: brightness(0.7);
  }

  .carousel img.active {
    width: 220px;
    height: 220px;
    filter: brightness(1);
    z-index: 10;
  }

  .carousel img:hover {
    transform: scale(1.2);
    filter: brightness(1);
  }

  .center-preview {
    margin-top: 60px;
    width: 300px;
    height: 300px;
    transition: all 0.5s;
  }

  .center-preview img {
    width: 100%;
    height: 100%;
    object-fit: contain;
    border-radius: 15px;
    box-shadow: 0 0 20px rgba(0,0,0,0.2);
  }

  @media(max-width: 600px) {
    .carousel img {
      width: 80px;
      height: 80px;
    }

    .carousel img.active {
      width: 160px;
      height: 160px;
    }

    .center-preview {
      width: 200px;
      height: 200px;
      margin-top: 40px;
    }
  }
</style>
</head>
<body>

<h1>Comercios Adheridos</h1>

<div class="carousel-container">
  <div class="carousel" id="carousel"></div>
</div>

<div class="center-preview" id="centerPreview">
  <img src="" alt="Comercio seleccionado" id="mainImage">
</div>

<script>
const comercios = [
  "comercio1.jpg",
  "comercio2.jpg",
  "comercio3.jpg",
  "comercio4.jpg",
  "comercio5.jpg"
  // Agregá más imágenes de tu carpeta /assets/comercios/
];

const carousel = document.getElementById("carousel");
const mainImage = document.getElementById("mainImage");

let activeIndex = 0;

// Crear imágenes en el carrusel
comercios.forEach((imgSrc, index) => {
  const img = document.createElement("img");
  img.src = `assets/comercios/${imgSrc}`;
  if(index === activeIndex) img.classList.add("active");
  img.addEventListener("click", () => {
    activeIndex = index;
    updateCarousel();
  });
  carousel.appendChild(img);
});

// Función para actualizar el carrusel
function updateCarousel() {
  const imgs = carousel.querySelectorAll("img");
  const radius = 300; // radio del semicirculo
  const angleStep = 360 / imgs.length;

  imgs.forEach((img, i) => {
    img.classList.remove("active");
    const offset = i - activeIndex;
    const angle = offset * angleStep * Math.PI / 180;
    img.style.transform = `translateX(${radius * Math.sin(angle)}px) translateZ(${radius * Math.cos(angle)}px) translateY(-50%)`;
  });

  imgs[activeIndex].classList.add("active");
  mainImage.src = `assets/comercios/${comercios[activeIndex]}`;
}

// Inicializar
updateCarousel();

// Desplazamiento automático
setInterval(() => {
  activeIndex = (activeIndex + 1) % comercios.length;
  updateCarousel();
}, 3000); // Cambia cada 3 segundos
</script>

</body>
</html>
